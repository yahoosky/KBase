<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="late.kbase.dao.IKbaseMenuMastMapper">
	<resultMap id="BaseResultMap" type="late.kbase.entity.KbaseMenuMastEntity">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Dec 14 
			10:32:38 CST 2017. -->
		<result column="menu_id" jdbcType="VARCHAR" property="menuId" />
		<result column="menu_desc" jdbcType="VARCHAR" property="menuDesc" />
		<result column="parent_type" jdbcType="VARCHAR" property="parentType" />
		<result column="menu_type" jdbcType="CHAR" property="menuType" />
		<result column="menu_owner" jdbcType="CHAR" property="menuOwner" />
		<result column="status" jdbcType="CHAR" property="status" />
	</resultMap>
	<insert id="insert" parameterType="late.kbase.entity.KbaseMenuMastEntity">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Dec 14 
			10:32:38 CST 2017. -->
		insert into kbase_menu_mast (menu_id, menu_desc,parent_id, menu_type,
		menu_owner, status)
		values (#{menuId,jdbcType=VARCHAR},
		#{menuDesc,jdbcType=VARCHAR},
		#{parentId,jdbcType=VARCHAR},
		#{menuType,jdbcType=CHAR},
		#{menuOwner,jdbcType=CHAR},
		#{status,jdbcType=CHAR})
	</insert>

	<select id="queryMenuByParentId" resultMap="BaseResultMap">
		select * from
		kbase_menu_mast
		where
		FIND_IN_SET(menu_id,concat(getMenuTree(#{0},#{1})));
	</select>

	<select id="getByPk" parameterType="string" resultMap="BaseResultMap">
		select *
		from kbase_menu_mast
		where menu_id = #{menuId};
	</select>

</mapper>